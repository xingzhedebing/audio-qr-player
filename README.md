# 🎵 音频二维码管理上位机

这是一个基于Python开发的专业音频二维码管理上位机，可以直接连接腾讯云COS，自动获取音频文件并生成永久二维码。

## 📁 项目文件

- `audio_qr_manager.py` - **主程序**（Python GUI上位机）
- `player.html` - 音频播放页面模板
- `install.py` - 一键安装脚本
- `config.json` - 配置文件模板
- `requirements.txt` - Python依赖库清单

## 🚀 快速开始

### 方法一：一键安装（推荐）

```bash
# 1. 运行安装脚本
python install.py

# 2. 编辑配置文件，填入您的腾讯云密钥
# 编辑 config.json 文件

# 3. 启动上位机
python audio_qr_manager.py
```

### 方法二：手动安装

```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 创建输出目录
mkdir qr_codes

# 3. 配置腾讯云密钥（在程序中输入或编辑config.json）

# 4. 启动程序
python audio_qr_manager.py
```

## 🔧 配置说明

### 腾讯云COS配置

在程序界面中填入或在 `config.json` 中配置：

```json
{
  "secret_id": "您的SecretId",
  "secret_key": "您的SecretKey", 
  "bucket_name": "audio-qr-1361719303",
  "region": "ap-chengdu",
  "output_dir": "./qr_codes"
}
```

### 获取腾讯云密钥

1. 登录 [腾讯云控制台](https://console.cloud.tencent.com/)
2. 进入 **访问管理** → **API密钥管理**
3. 创建密钥或查看现有密钥
4. 复制 SecretId 和 SecretKey

## 📸 功能特性

### ✨ 核心功能

- **🔗 自动连接COS**：使用密钥直接连接腾讯云存储桶
- **📂 智能文件检索**：自动获取所有音频文件列表
- **🎯 批量二维码生成**：一键为所有音频文件生成二维码
- **💾 本地保存**：二维码自动保存到本地，文件名与音频同名
- **🎵 实时播放**：支持直接播放音频文件预览
- **⚙️ 配置管理**：自动保存和加载配置信息

### 🎨 界面特点

- **专业GUI界面**：基于Tkinter的现代化桌面应用
- **实时状态显示**：连接状态、进度条、文件统计
- **右键菜单**：丰富的操作选项
- **多线程处理**：界面响应流畅，不卡顿

### 🔄 二维码生成方式

1. **直接链接模式**：
   - 二维码内容：`https://audio-qr-1361719303.cos.ap-chengdu.myqcloud.com/song.mp3`
   - 扫描后：浏览器直接播放音频
   - 特点：永久有效，无需额外服务器

2. **播放页面模式**：
   - 二维码内容：`./player.html?url=音频链接`
   - 扫描后：打开美观的播放界面
   - 特点：更好的用户体验

## 🎯 使用流程

### 1. 启动程序
```bash
python audio_qr_manager.py
```

### 2. 连接COS
- 在配置面板填入腾讯云密钥
- 点击"🔗 连接COS"按钮
- 等待连接成功提示

### 3. 获取文件列表
- 连接成功后自动获取音频文件
- 或手动点击"🔄 刷新文件列表"
- 查看音频文件列表和详细信息

### 4. 生成二维码
- **单个生成**：选中文件后点击"🎯 生成选中项"
- **批量生成**：点击"⚡ 批量生成"处理所有文件
- 选择输出目录和生成方式

### 5. 管理二维码
- 在输出目录查看生成的二维码文件
- 文件名格式：`音频文件名.png`
- 支持批量打印和分发

## 🔧 技术规格

### 支持的音频格式
- **MP3** - 最常用的音频格式
- **WAV** - 无损音频格式  
- **M4A** - Apple音频格式
- **FLAC** - 无损压缩格式
- **AAC** - 高质量压缩格式
- **OGG** - 开源音频格式
- **WMA** - Windows音频格式

### 二维码规格
- **格式**：PNG图片
- **尺寸**：可配置（默认180x180像素）
- **边距**：可配置（默认5像素）
- **颜色**：黑白高对比度

### 系统要求
- **Python**：3.6 或更高版本
- **操作系统**：Windows/macOS/Linux
- **内存**：建议512MB以上
- **存储**：根据音频文件数量而定

## 🌟 高级功能

### 批量处理能力
- 同时处理数百个音频文件
- 实时进度显示和状态更新
- 多线程处理确保界面响应

### 智能文件管理
- 自动识别音频文件类型
- 显示文件大小和修改时间
- 支持文件夹层级结构

### 配置持久化
- 自动保存用户配置
- 下次启动自动加载设置
- 支持配置文件导入导出

## 📱 使用场景

1. **🏛️ 博物馆展览**：为展品语音介绍生成二维码
2. **📚 教育培训**：课程音频资料的二维码分发
3. **🎵 音乐推广**：歌曲试听二维码制作
4. **🏢 企业宣传**：产品介绍音频的二维码营销
5. **📖 有声读物**：章节音频的二维码索引

## 🔍 故障排除

### 常见问题

1. **连接COS失败**
   - 检查SecretId和SecretKey是否正确
   - 确认网络连接正常
   - 验证存储桶名称和地域

2. **获取文件列表为空**
   - 确认存储桶中有音频文件
   - 检查文件格式是否支持
   - 验证存储桶权限设置

3. **二维码扫描无法播放**
   - 确保存储桶设置为公有读权限
   - 测试音频文件URL是否可直接访问
   - 检查音频文件是否损坏

### 性能优化

- 大量文件时建议分批处理
- 定期清理输出目录
- 使用SSD存储提升处理速度

## 📞 技术支持

### 依赖库问题
```bash
# 升级pip
python -m pip install --upgrade pip

# 重新安装依赖
pip install -r requirements.txt --force-reinstall
```

### 权限问题
- Windows：以管理员身份运行
- macOS/Linux：检查文件读写权限

---

**🎉 享受专业的音频二维码管理体验！** 🎵✨ 